<!DOCTYPE html>
<html lang="id">
    <head>
        <title>KONZ - Free YouTube Downloader</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="Unduh video YouTube favorit kamu di KONZ. Gratis!">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
        <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
        <style>
        body {
            height: 100%;
            background-color: #192138;
            font-family: 'Playfair Display', serif;
        }
        
        .header {
            background-color: #000;
            color: #ff8040;
            text-shadow: 0px 0px 2px #67d1ff;
            background-image: url("https://img.freepik.com/free-vector/stylish-glowing-digital-red-lines-banner_1017-23964.jpg?w=740&t=st=1654760240~exp=1654760840~hmac=35fb91e48c8918f63975780bda6601a60ee59f3b2f9abe6e667cbf1f1dde73e6");
            height: 100%; 
            background-position: center;
            background-size: cover; 
            background-repeat: no-repeat;
        }
        
        .footer {
            background-color: #fff;
            color: #fff;
            text-shadow: 0px 0px 2px #67d1ff;
            background-image: url("https://i.pinimg.com/564x/16/a6/55/16a6554f00efd6987469fc9a52e56f29.jpg");
            height: 100%; 
            background-position: center;
            background-size: cover; 
            background-repeat: no-repeat;
        }
        
        form {
            background-color: rgba(0, 0, 0, 0.2);
            width: 100%;
            height: 43px;
            border-radius: 5px;
            border-style: ridge;
            border-width: medium;
            display:flex;
            flex-direction:row;
            align-items: center;
        }

        input {
            font: 16px system-ui;
            background-color: #fff;
            color: #fff;
            height: 100%;
            width: 100%;
            padding: 6px 10px;
            opacity: 0.2;
        }

        ::placeholder {
            color: #fff;
            opacity: 0.9; 
        }

        svg {
            color: #fff;
            fill: currentColor;
            width: 42px;
            height: 42px;
            padding: 10px;
        }

        .konz-button {
            all: unset;
            cursor: pointer;
            width: 44px;
            height: 44px;
        }

        </style>
    </head>
    <body>
        <div class="jumbotron text-center header" style="margin-bottom:0">
            <h1>KONZ</h1>
            <p>KONZ YouTube downloader</p> 
        </div>
        
        <nav style="box-shadow: 0px 0px 5px black; background-color: #0b246b" class="navbar navbar-expand-sm navbar-dark sticky-top">
            <a class="navbar-brand" href="/" target="_blank">KONZ</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar" onclick="waktu()">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="collapsibleNavbar">
                <ul class="navbar-nav">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Contact Me</a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" href="https://wa.me/6289681226041?text=Assalamualaikum">WhatsApp</a>
                            <a class="dropdown-item" href="https://facebook.com/sndyarz">Facebook</a>
                            <a class="dropdown-item" href="https://discord.gg/2JQTaMqUF5">Discord</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item disabled" href="#">Sawer aku bang plis</a>
                        </div>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/changelog" target="_blank">Changelog</a>
                    </li>
                    <li class="nav-item">
                        <a id="waktu" class="nav-link disabled" href="#konz" target="_blank">KONZ <%= versi %></a>
                    </li>
                </ul>
            </div>  
        </nav>
        
        <div class="container" style="margin-top:50px;">
            <form name="query" onsubmit="return validate()" method="GET" action="/redirect" style="box-shadow: 0px 0px 5px black">
            <input type="text" class="form-control" name="q" value="<%= query %>" placeholder="Search YouTube or type URL..." style="font-family: 'Playfair Display', serif; color: #000;">
            <button type="submit" class="konz-button">
            <svg viewBox="0 0 1024 1024"><path class="path1" d="M848.471 928l-263.059-263.059c-48.941 36.706-110.118 55.059-177.412 55.059-171.294 0-312-140.706-312-312s140.706-312 312-312c171.294 0 312 140.706 312 312 0 67.294-24.471 128.471-55.059 177.412l263.059 263.059-79.529 79.529zM189.623 408.078c0 121.364 97.091 218.455 218.455 218.455s218.455-97.091 218.455-218.455c0-121.364-103.159-218.455-218.455-218.455-121.364 0-218.455 97.091-218.455 218.455z"></path></svg>
            </button>
            </form>
        </div>
        
        <div class="container" style="margin-top: 30px;">
            <iframe style="box-shadow: 0px 0px 5px black" height="250px" width="100%" class="d-flex" src="<%= url %>">
			</iframe>
			<div style="margin-top: 8px;">
			    <button type="button" class="btn btn-outline-success dropdown-toggle btn-block" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Download</button>
			    <div style="height: 100px; overflow: scroll;box-shadow: 0px 0px 4px black; width:50%" class="dropdown-menu">

                    <% info.forEach((format) => { %>

                    <a class="dropdown-item" href="<%= format.url %>" target="_blank">
                        <%= format.mimeType.split(";")[0] %> <%= format.hasVideo
                    ? format.height + "p" : "" %> <% if(!format.hasAudio) {
                    %>
                        <i class="fas fa-volume-mute text-danger"></i>
                    <% } %>
                    </a>
                    <% }); %>
                </div>
			</div>
        </div>
        
        <div class="jumbotron text-center footer" style="margin-top:50px;box-shadow: 0px 0px 5px black;margin-bottom:0">
            <br>
            <p>&copy; 2022 KONZ</p>
            <br>
        </div>
        
        <script>
            f.addEventListener('submit', submitted);
            function validate() {
                var url = /https?:\/\//.test(x);
                var x = document.forms["query"]["q"].value;
                if (x == "") {
                    alert("Query tidak boleh kosong!");
                    return false;
                } else if (url) {
                    if (!/(youtube.com|youtu.be)/.test(x)) {
                        alert("Invalid URL!");
                        return false;
                    }
                }
            }
            window.setTimeout("waktu()", 1000);
            function waktu() {
                var waktu = new Date();
                setTimeout("waktu()", 1000);
                var jam = `${waktu.getHours() < 10 ? "0" + waktu.getHours() : waktu.getHours()}:${waktu.getMinutes() < 10 ? "0" + waktu.getMinutes() : waktu.getMinutes()}:${waktu.getSeconds() < 10 ? "0" + waktu.getSeconds() : waktu.getSeconds()}`
                document.getElementById("waktu").innerHTML = `<p>${jam} WIB</p>`;
            }
        </script>
    </body>
</html>